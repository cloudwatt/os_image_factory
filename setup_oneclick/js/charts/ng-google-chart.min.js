!function(){function a(a,b){angular.element(b).bind("resize",function(){a.$emit("resizeMsg")})}angular.module("googlechart",[]).run(a),a.$inject=["$rootScope","$window"]}(),function(){function a(){function a(){function a(a,b){var c,d;for(d in a)if(a.hasOwnProperty(d))for(c=0;c<f.iFormats[d].length;c++)a[d][c].columnNum<b.getNumberOfColumns()&&f.iFormats[d][c].format(b,a[d][c].columnNum)}function b(a,b,c){var e;if(angular.isArray(c[a])&&!angular.equals(c[a],g[a]))if(g[a]=c[a],f.iFormats[a]=[],"color"===a)d(c);else for(e=0;e<c[a].length;e++)f.iFormats[a].push(new b(c[a][e]))}function c(c,d,f){var g,h,i=!1;if(!angular.isDefined(d)||!angular.isDefined(c))return{requiresHtml:!1};for(g in d)if(d.hasOwnProperty(g)){if(h=e(g,f),!angular.isFunction(h))continue;b(g,h,d),("arrow"===g||"bar"===g||"color"===g)&&(i=!0)}return a(d,c),{requiresHtml:i}}function d(a){var b,c,d,e,g="color";for(b=0;b<a[g].length;b++){for(c=new google.visualization.ColorFormat,d=0;d<a[g][b].formats.length;d++)e=a[g][b].formats[d],"undefined"!=typeof e.fromBgColor&&"undefined"!=typeof e.toBgColor?c.addGradientRange(e.from,e.to,e.color,e.fromBgColor,e.toBgColor):c.addRange(e.from,e.to,e.color,e.bgcolor);f.iFormats[g].push(c)}}function e(a,b){var c=a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()+"Format";return google.visualization.hasOwnProperty(c)?google.visualization[c]:angular.isDefined(b)&&b.hasOwnProperty(a)?b[a]:void 0}var f=this,g={};f.iFormats={},f.applyFormats=c}return a}angular.module("googlechart").factory("FormatManager",a)}(),function(){function a(a,b,c,d){function e(b,e,f,g,h){function i(){w()}function j(){j.triggered||void 0===y.chart?void 0!==y.chart&&(a.cancel(j.recallTimeout),j.recallTimeout=a(j,10)):(j.triggered=!0,a(p,0,!0))}function k(){d.then(function(){j()})}function l(){b.$eval(f.beforeDraw,{chartWrapper:b.chartWrapper}),y.chartWrapper.draw(),j.triggered=!1}function m(a){var b=a[0];console.log("Chart not displayed due to error: '"+b.message+"' Full error object follows."),console.log(b)}function n(){y.chart.displayed=!0,B!==y.chartWrapper.getChart()&&(B=y.chartWrapper.getChart(),t(B,A))}function o(){b.$watch(r,q,!0),w=c.$on("resizeMsg",function(){a(function(){y.chartWrapper&&k()})}),b.$on("$destroy",i()),v("error",m,y),v("ready",n,y)}function p(){if("undefined"==typeof y.chartWrapper){var b={chartType:y.chart.type,dataTable:y.chart.data,view:y.chart.view,options:y.chart.options,containerId:e[0]};y.chartWrapper=new google.visualization.ChartWrapper(b),t(y.chartWrapper,z)}else y.chartWrapper.setChartType(y.chart.type),y.chartWrapper.setDataTable(y.chart.data),y.chartWrapper.setView(y.chart.view),y.chartWrapper.setOptions(y.chart.options);x||(x=new h),x.applyFormats(y.chartWrapper.getDataTable(),y.chart.formatters,y.chart.customFormatters).requiresHtml&&y.chartWrapper.setOption("allowHtml",!0),a(l)}function q(){y.chart=b.$eval(f.chart),k()}function r(){var a=b.$eval(f.chart);return angular.isDefined(a)&&angular.isObject(a)?{customFormatters:a.customFormatters,data:a.data,formatters:a.formatters,options:a.options,type:a.type,view:a.view}:void 0}function s(a,b,c,d){var e=function(){var a={chartWrapper:y.chartWrapper,chart:y.chartWrapper.getChart(),args:arguments};g.invoke(c,d||this,a)};return angular.isDefined(a)&&angular.isObject(a)?(angular.isArray(a[b])||(a[b]=[]),a[b].push(e),function(){angular.isDefined(e.googleListenerHandle)&&google.visualization.events.removeListener(e.googleListenerHandle);var c=a[b].indexOf(e);a[b].splice(c,1),0===a[b].length&&(a[b]=void 0)}):void 0}function t(a,b){for(var c in b)if(b.hasOwnProperty(c)&&angular.isArray(b[c]))for(var d=0;d<b[c].length;d++)angular.isFunction(b[c][d])&&(b[c][d].googleListenerHandle=google.visualization.events.addListener(a,c,b[c][d]))}function u(a,b,c){return s(A,a,b,c)}function v(a,b,c){return s(z,a,b,c)}var w,x,y=this,z={},A={},B=null;y.registerChartListener=u,y.registerWrapperListener=v,o(),m.$inject=["args"]}return e.$inject=["$scope","$element","$attrs","$injector","FormatManager"],{restrict:"A",scope:!1,controller:e}}angular.module("googlechart").directive("googleChart",a),a.$inject=["$timeout","$window","$rootScope","googleChartApiPromise"]}(),function(){angular.module("googlechart").value("googleChartApiConfig",{version:"1",optionalSettings:{packages:["corechart"]}})}(),function(){function a(a,b,c,d){var e=b.defer(),f=function(){var b={callback:function(){var b=c.optionalSettings.callback;a.$apply(function(){e.resolve()}),angular.isFunction(b)&&b.call(this)}};b=angular.extend({},c.optionalSettings,b),window.google.load("visualization",c.version,b)},g=document.getElementsByTagName("head")[0],h=document.createElement("script");return h.setAttribute("type","text/javascript"),h.src=d,h.addEventListener?h.addEventListener("load",f,!1):h.onreadystatechange=function(){("loaded"===h.readyState||"complete"===h.readyState)&&(h.onreadystatechange=null,f())},g.appendChild(h),e.promise}angular.module("googlechart").factory("googleChartApiPromise",a),a.$inject=["$rootScope","$q","googleChartApiConfig","googleJsapiUrl"]}(),function(){function a(){var a="https:",b="//www.google.com/jsapi";this.setProtocol=function(b){a=b},this.setUrl=function(a){b=a},this.$get=function(){return(a?a:"")+b}}angular.module("googlechart").provider("googleJsapiUrl",a)}(),function(){function a(){return{restrict:"A",scope:!1,require:"googleChart",link:function(a,b,c,d){function e(b,d,e){var f={chartWrapper:b,chart:d,args:e,error:e[0],err:e[0],id:e[0].id,message:e[0].message};a.$apply(function(){a.$eval(c.onError,f)})}e.$inject=["chartWrapper","chart","args"],d.registerWrapperListener("error",e,this)}}}angular.module("googlechart").directive("onError",a)}(),function(){function a(){return{restrict:"A",scope:!1,require:"googleChart",link:function(a,b,c,d){function e(b){a.$apply(function(){a.$eval(c.onReady,{chartWrapper:b})})}e.$inject=["chartWrapper"],d.registerWrapperListener("ready",e,this)}}}angular.module("googlechart").directive("onReady",a)}(),function(){function a(){return{restrict:"A",scope:!1,require:"googleChart",link:function(a,b,c,d){function e(b,d){var e={selectedItems:d.getSelection()};e.selectedItem=e.selectedItems[0],e.chartWrapper=b,e.chart=d,a.$apply(function(){a.$eval(c.onSelect,e)})}e.$inject=["chartWrapper","chart"],d.registerWrapperListener("select",e,this)}}}angular.module("googlechart").directive("onSelect",a)}();
//# sourceMappingURL=ng-google-chart.min.js.map